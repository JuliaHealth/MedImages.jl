<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API Reference | MedImages.jl</title>
    <meta name="description" content="Documentation for MedImages.jl">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/MedImages.jl/dev/assets/style.DwVaVhb0.css" as="style">
    <link rel="preload stylesheet" href="/MedImages.jl/dev/vp-icons.css" as="style">
    
    <script type="module" src="/MedImages.jl/dev/assets/app.Bk9TFeTi.js"></script>
    <link rel="preload" href="/MedImages.jl/dev/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/MedImages.jl/dev/assets/chunks/theme.Bnptrq8h.js">
    <link rel="modulepreload" href="/MedImages.jl/dev/assets/chunks/framework.C4tE2Wd2.js">
    <link rel="modulepreload" href="/MedImages.jl/dev/assets/api.md.CIVNilo7.lean.js">
    <link rel="icon" href="/MedImages.jl/dev/favicon.ico">
    <script src="/MedImages.jl/versions.js"></script>
    <script src="/MedImages.jl/dev/siteinfo.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-492508fc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-492508fc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-0f4f798b><a class="title" href="/MedImages.jl/dev/" data-v-0f4f798b><!--[--><!--]--><!--[--><img class="VPImage logo" src="/MedImages.jl/dev/logo.png" width="24" height="24" alt data-v-35a7d0b8><!--]--><span data-v-0f4f798b>MedImages.jl</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/MedImages.jl/dev/index" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>Manual</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/MedImages.jl/dev/manual/get_started" data-v-acbfed09><!--[--><span data-v-acbfed09>Getting Started</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/MedImages.jl/dev/manual/tutorials" data-v-acbfed09><!--[--><span data-v-acbfed09>Tutorials</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/MedImages.jl/dev/manual/code_example" data-v-acbfed09><!--[--><span data-v-acbfed09>Code Examples</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/MedImages.jl/dev/manual/coordinate_systems" data-v-acbfed09><!--[--><span data-v-acbfed09>Coordinate Systems</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>Reference</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link active" href="/MedImages.jl/dev/api" data-v-acbfed09><!--[--><span data-v-acbfed09>API Reference</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/MedImages.jl/dev/reference/data_structures" data-v-acbfed09><!--[--><span data-v-acbfed09>Data Structures</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>Developers</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/MedImages.jl/dev/devs/image_registration" data-v-acbfed09><!--[--><span data-v-acbfed09>Image Registration</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><!----><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/JuliaHealth/MedImages.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04f5c5e9><span class="vpi-more-horizontal icon" data-v-04f5c5e9></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/JuliaHealth/MedImages.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="Enhanced Readability" role="menuitem" data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><span class="i-icon-park-outline:book-open option-icon" data-v-04f5c5e9></span><!----><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-168ddf5d><button data-v-168ddf5d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-a4b0d9bf><!----><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/index" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Home</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 collapsible" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Manual</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-a4b0d9bf><span class="vpi-chevron-right caret-icon" data-v-a4b0d9bf></span></div></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/manual/get_started" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/manual/tutorials" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Tutorials</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/manual/code_example" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Code Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/manual/coordinate_systems" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Coordinate Systems</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 collapsible has-active" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Reference</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-a4b0d9bf><span class="vpi-chevron-right caret-icon" data-v-a4b0d9bf></span></div></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/api" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>API Reference</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/reference/data_structures" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Data Structures</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 collapsible" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Developers</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-a4b0d9bf><span class="vpi-chevron-right caret-icon" data-v-a4b0d9bf></span></div></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/MedImages.jl/dev/devs/image_registration" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Image Registration</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _MedImages_jl_dev_api" data-v-83890dd9><div><h1 id="API-Reference" tabindex="-1">API Reference <a class="header-anchor" href="#API-Reference" aria-label="Permalink to &quot;API Reference {#API-Reference}&quot;">​</a></h1><p>This page provides comprehensive documentation for all public functions, types, and constants in MedImages.jl.</p><h2 id="Quick-Navigation" tabindex="-1">Quick Navigation <a class="header-anchor" href="#Quick-Navigation" aria-label="Permalink to &quot;Quick Navigation {#Quick-Navigation}&quot;">​</a></h2><ul><li><p><a href="/MedImages.jl/dev/api#core-data-types">Core Data Types</a></p></li><li><p><a href="/MedImages.jl/dev/api#io-functions">I/O Functions</a></p></li><li><p><a href="/MedImages.jl/dev/api#basic-transformations">Basic Transformations</a></p></li><li><p><a href="/MedImages.jl/dev/api#spatial-metadata-operations">Spatial Metadata Operations</a></p></li><li><p><a href="/MedImages.jl/dev/api#resampling-functions">Resampling Functions</a></p></li><li><p><a href="/MedImages.jl/dev/api#hdf5-storage">HDF5 Storage</a></p></li><li><p><a href="/MedImages.jl/dev/api#enumerations">Enumerations</a></p></li><li><p><a href="/MedImages.jl/dev/api#orientation-utilities">Orientation Utilities</a></p></li></ul><hr><h2 id="Core-Data-Types" tabindex="-1">Core Data Types <a class="header-anchor" href="#Core-Data-Types" aria-label="Permalink to &quot;Core Data Types {#Core-Data-Types}&quot;">​</a></h2><h3 id="MedImage" tabindex="-1">MedImage <a class="header-anchor" href="#MedImage" aria-label="Permalink to &quot;MedImage {#MedImage}&quot;">​</a></h3><p>The primary data structure for representing medical images with comprehensive metadata.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">mutable struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    voxel_data                                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Multidimensional array of image data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    origin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64,Float64,Float64}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # Physical origin coordinates (x,y,z) in mm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    spacing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64,Float64,Float64}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Voxel spacing (x,y,z) in mm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    direction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NTuple{9,Float64}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # Orientation cosines (3x3 flattened)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Image_type</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                       # CT_type, PET_type, or MRI_type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_subtype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Image_subtype</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # Specific imaging protocol</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    date_of_saving</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                     # When image was saved</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    acquistion_time</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    # When image was acquired</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    patient_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                           # Patient identifier</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    current_device</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">current_device_enum</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # Processing device (CPU/GPU)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    study_uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                            # DICOM study UID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    patient_uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                          # Patient UID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    series_uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                           # Series UID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    study_description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    # Study description</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    legacy_file_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                     # Original filename</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    display_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Any,Any}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                  # Visualization parameters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clinical_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Any,Any}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # Patient clinical info</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    is_contrast_administered</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">               # Contrast agent flag</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    metadata</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Any,Any}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      # Additional metadata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h4 id="Fields-Description" tabindex="-1">Fields Description <a class="header-anchor" href="#Fields-Description" aria-label="Permalink to &quot;Fields Description {#Fields-Description}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:right;">Field</th><th style="text-align:right;">Type</th><th style="text-align:right;">Description</th></tr></thead><tbody><tr><td style="text-align:right;"><code>voxel_data</code></td><td style="text-align:right;"><code>Array</code></td><td style="text-align:right;">3D or 4D array of voxel intensities. For 3D images, dimensions are (Z, Y, X) in Julia array indexing.</td></tr><tr><td style="text-align:right;"><code>origin</code></td><td style="text-align:right;"><code>Tuple{Float64,Float64,Float64}</code></td><td style="text-align:right;">Physical coordinates (x,y,z) of the first voxel in millimeters.</td></tr><tr><td style="text-align:right;"><code>spacing</code></td><td style="text-align:right;"><code>Tuple{Float64,Float64,Float64}</code></td><td style="text-align:right;">Distance between voxel centers (x,y,z) in millimeters.</td></tr><tr><td style="text-align:right;"><code>direction</code></td><td style="text-align:right;"><code>NTuple{9,Float64}</code></td><td style="text-align:right;">Direction cosine matrix flattened row-major. Defines the orientation of the image axes in physical space.</td></tr><tr><td style="text-align:right;"><code>image_type</code></td><td style="text-align:right;"><code>Image_type</code></td><td style="text-align:right;">Modality: <code>CT_type</code>, <code>PET_type</code>, or <code>MRI_type</code>.</td></tr><tr><td style="text-align:right;"><code>image_subtype</code></td><td style="text-align:right;"><code>Image_subtype</code></td><td style="text-align:right;">Specific protocol: <code>CT_subtype</code>, <code>T1_subtype</code>, <code>T2_subtype</code>, <code>FLAIR_subtype</code>, <code>ADC_subtype</code>, <code>DWI_subtype</code>, <code>FDG_subtype</code>, <code>PSMA_subtype</code>.</td></tr><tr><td style="text-align:right;"><code>current_device</code></td><td style="text-align:right;"><code>current_device_enum</code></td><td style="text-align:right;">Compute device: <code>CPU_current_device</code>, <code>CUDA_current_device</code>, <code>AMD_current_device</code>, <code>ONEAPI_current_device</code>.</td></tr></tbody></table><hr><h2 id="I/O-Functions" tabindex="-1">I/O Functions <a class="header-anchor" href="#I/O-Functions" aria-label="Permalink to &quot;I/O Functions {#I/O-Functions}&quot;">​</a></h2><h3 id="load_image" tabindex="-1">load_image <a class="header-anchor" href="#load_image" aria-label="Permalink to &quot;load_image {#load_image}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Load a medical image from a NIfTI file.</p><p><strong>Arguments:</strong></p><ul><li><p><code>path::String</code>: Path to the NIfTI file (.nii or .nii.gz)</p></li><li><p><code>type::String</code>: Image modality, either <code>&quot;CT&quot;</code> or <code>&quot;PET&quot;</code></p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Loaded image with spatial metadata</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MedImages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Load a CT scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ct_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> load_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/scan.nii.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Load a PET scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pet_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> load_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/pet.nii.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Uses ITKIOWrapper internally, which defaults to LPS orientation</p></li><li><p>Voxel data is stored in Julia array order (dim1=Z, dim2=Y, dim3=X)</p></li></ul><hr><h3 id="createniifrom_medimage" tabindex="-1">create_nii_from_medimage <a class="header-anchor" href="#createniifrom_medimage" aria-label="Permalink to &quot;create_nii_from_medimage {#createniifrom_medimage}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_nii_from_medimage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(med_image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, file_path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Save a MedImage object as a NIfTI file.</p><p><strong>Arguments:</strong></p><ul><li><p><code>med_image::MedImage</code>: The image to save</p></li><li><p><code>file_path::String</code>: Output path (without extension; .nii.gz will be appended)</p></li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Save processed image</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_nii_from_medimage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(processed_image, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/output/processed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Creates: /output/processed.nii.gz</span></span></code></pre></div><hr><h3 id="updatevoxeldata" tabindex="-1">update_voxel_data <a class="header-anchor" href="#updatevoxeldata" aria-label="Permalink to &quot;update_voxel_data {#updatevoxeldata}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">update_voxel_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(old_image, new_voxel_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create a new MedImage with updated voxel data while preserving all spatial metadata.</p><p><strong>Arguments:</strong></p><ul><li><p><code>old_image</code>: Source MedImage for metadata</p></li><li><p><code>new_voxel_data::AbstractArray</code>: New voxel data array</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: New image with updated voxel data</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Apply custom processing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">processed_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> my_filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">new_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> update_voxel_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, processed_data)</span></span></code></pre></div><hr><h3 id="updatevoxelandspatialdata" tabindex="-1">update_voxel_and_spatial_data <a class="header-anchor" href="#updatevoxelandspatialdata" aria-label="Permalink to &quot;update_voxel_and_spatial_data {#updatevoxelandspatialdata}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">update_voxel_and_spatial_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(old_image, new_voxel_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                               new_origin, new_spacing, new_direction)</span></span></code></pre></div><p>Create a new MedImage with updated voxel data and spatial metadata.</p><p><strong>Arguments:</strong></p><ul><li><p><code>old_image</code>: Source MedImage for non-spatial metadata</p></li><li><p><code>new_voxel_data::AbstractArray</code>: New voxel data array</p></li><li><p><code>new_origin</code>: New origin tuple (x,y,z)</p></li><li><p><code>new_spacing</code>: New spacing tuple (x,y,z)</p></li><li><p><code>new_direction</code>: New direction tuple (9 elements)</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: New image with updated data and spatial metadata</li></ul><hr><h2 id="Basic-Transformations" tabindex="-1">Basic Transformations <a class="header-anchor" href="#Basic-Transformations" aria-label="Permalink to &quot;Basic Transformations {#Basic-Transformations}&quot;">​</a></h2><h3 id="rotate_mi" tabindex="-1">rotate_mi <a class="header-anchor" href="#rotate_mi" aria-label="Permalink to &quot;rotate_mi {#rotate_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rotate_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, angle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Float64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          Interpolator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Interpolator_enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, crop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Rotate a medical image around a specified axis.</p><p><strong>Arguments:</strong></p><ul><li><p><code>image::MedImage</code>: Input image to rotate</p></li><li><p><code>axis::Int</code>: Rotation axis (1, 2, or 3)</p></li><li><p><code>angle::Float64</code>: Rotation angle in degrees</p></li><li><p><code>Interpolator::Interpolator_enum</code>: Interpolation method</p></li><li><p><code>crop::Bool=true</code>: If true, crop result to original dimensions</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Rotated image</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rotate 45 degrees around axis 3 (typically axial plane)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rotated </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rotate_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">45.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Linear_en)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rotate without cropping to original size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rotated_full </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rotate_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Linear_en, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Rotation center is the image center</p></li><li><p>Uses Rodrigues&#39; rotation formula internally</p></li><li><p>Fill value for areas outside original image is 0.0</p></li></ul><hr><h3 id="crop_mi" tabindex="-1">crop_mi <a class="header-anchor" href="#crop_mi" aria-label="Permalink to &quot;crop_mi {#crop_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">crop_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, crop_beg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Int64,Int64,Int64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        crop_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Int64,Int64,Int64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Interpolator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Interpolator_enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Crop a region from a medical image.</p><p><strong>Arguments:</strong></p><ul><li><p><code>im::MedImage</code>: Input image to crop</p></li><li><p><code>crop_beg::Tuple{Int64,Int64,Int64}</code>: Starting indices (0-based) in Julia array order (dim1, dim2, dim3)</p></li><li><p><code>crop_size::Tuple{Int64,Int64,Int64}</code>: Size of region to crop in each dimension</p></li><li><p><code>Interpolator::Interpolator_enum</code>: Interpolation method (not used in current implementation)</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Cropped image with adjusted origin</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Crop a 100x100x50 region starting at (10, 20, 30)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cropped </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> crop_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), Linear_en)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Indices are 0-based for SimpleITK compatibility</p></li><li><p>Origin is automatically adjusted to reflect the crop location</p></li><li><p>Tuple order is Julia array dimension order: (dim1, dim2, dim3) which maps to (Z, Y, X) physically</p></li></ul><hr><h3 id="pad_mi" tabindex="-1">pad_mi <a class="header-anchor" href="#pad_mi" aria-label="Permalink to &quot;pad_mi {#pad_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pad_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pad_beg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Int64,Int64,Int64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       pad_end</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Int64,Int64,Int64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pad_val,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       Interpolator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Interpolator_enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Pad a medical image with a constant value.</p><p><strong>Arguments:</strong></p><ul><li><p><code>im::MedImage</code>: Input image to pad</p></li><li><p><code>pad_beg::Tuple{Int64,Int64,Int64}</code>: Voxels to add at the beginning of each axis</p></li><li><p><code>pad_end::Tuple{Int64,Int64,Int64}</code>: Voxels to add at the end of each axis</p></li><li><p><code>pad_val</code>: Padding value</p></li><li><p><code>Interpolator::Interpolator_enum</code>: Interpolation method (not used in current implementation)</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Padded image with adjusted origin</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pad 10 voxels on each side with value -1000 (air in CT)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">padded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pad_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Linear_en)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Origin is adjusted to account for padding at the beginning</p></li><li><p>Tuple order follows Julia array indexing</p></li></ul><hr><h3 id="translate_mi" tabindex="-1">translate_mi <a class="header-anchor" href="#translate_mi" aria-label="Permalink to &quot;translate_mi {#translate_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translate_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, translate_by</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, translate_in_axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">             Interpolator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Interpolator_enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Translate a medical image by modifying its origin (metadata-only operation).</p><p><strong>Arguments:</strong></p><ul><li><p><code>im::MedImage</code>: Input image</p></li><li><p><code>translate_by::Int64</code>: Number of voxels to translate</p></li><li><p><code>translate_in_axis::Int64</code>: Axis to translate along (1, 2, or 3)</p></li><li><p><code>Interpolator::Interpolator_enum</code>: Interpolation method (not used)</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Translated image with modified origin</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Translate 5 voxels along axis 1 (X in physical space)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">translated </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> translate_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Linear_en)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>This is a metadata-only operation; the voxel array is unchanged</p></li><li><p>Translation distance in mm = translate_by * spacing[axis]</p></li></ul><hr><h3 id="scale_mi" tabindex="-1">scale_mi <a class="header-anchor" href="#scale_mi" aria-label="Permalink to &quot;scale_mi {#scale_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">scale_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, scale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Float64, Tuple{Float64,Float64,Float64}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         Interpolator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Interpolator_enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Scale a medical image, changing its array dimensions.</p><p><strong>Arguments:</strong></p><ul><li><p><code>im::MedImage</code>: Input image</p></li><li><p><code>scale</code>: Scaling factor (single value for uniform, or tuple for per-axis)</p></li><li><p><code>Interpolator::Interpolator_enum</code>: Interpolation method</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Scaled image with new dimensions</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Uniform downscale by half</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">downscaled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> scale_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Linear_en)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Non-uniform scaling</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scaled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> scale_mi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), Linear_en)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Unlike SimpleITK which keeps output dimensions fixed, MedImages.scale_mi changes array dimensions</p></li><li><p>Physical extent is maintained; the number of voxels changes</p></li></ul><hr><h2 id="Spatial-Metadata-Operations" tabindex="-1">Spatial Metadata Operations <a class="header-anchor" href="#Spatial-Metadata-Operations" aria-label="Permalink to &quot;Spatial Metadata Operations {#Spatial-Metadata-Operations}&quot;">​</a></h2><h3 id="resampletospacing" tabindex="-1">resample_to_spacing <a class="header-anchor" href="#resampletospacing" aria-label="Permalink to &quot;resample_to_spacing {#resampletospacing}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resample_to_spacing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im, new_spacing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64,Float64,Float64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    interpolator_enum, use_cuda</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Resample an image to new voxel spacing.</p><p><strong>Arguments:</strong></p><ul><li><p><code>im</code>: Input MedImage</p></li><li><p><code>new_spacing::Tuple{Float64,Float64,Float64}</code>: Desired spacing (x,y,z) in mm</p></li><li><p><code>interpolator_enum</code>: Interpolation method</p></li><li><p><code>use_cuda::Bool=false</code>: Whether to use CUDA acceleration</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Resampled image with new spacing and dimensions</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Resample to isotropic 1mm spacing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">isotropic </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> resample_to_spacing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), Linear_en)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Array dimensions are recalculated to maintain physical extent</p></li><li><p>Origin is preserved</p></li></ul><hr><h3 id="change_orientation" tabindex="-1">change_orientation <a class="header-anchor" href="#change_orientation" aria-label="Permalink to &quot;change_orientation {#change_orientation}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">change_orientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, new_orientation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Orientation_code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Change the orientation of a medical image.</p><p><strong>Arguments:</strong></p><ul><li><p><code>im::MedImage</code>: Input image</p></li><li><p><code>new_orientation::Orientation_code</code>: Target orientation</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Reoriented image</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Convert to RAS orientation (common for neuroimaging)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ras_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> change_orientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, ORIENTATION_RAS)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Convert to LPS orientation (common for CT/PET)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lps_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> change_orientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, ORIENTATION_LPS)</span></span></code></pre></div><p><strong>Supported Orientations:</strong></p><ul><li><p><code>ORIENTATION_RPI</code> - Right-Posterior-Inferior</p></li><li><p><code>ORIENTATION_LPI</code> - Left-Posterior-Inferior</p></li><li><p><code>ORIENTATION_RAI</code> - Right-Anterior-Inferior</p></li><li><p><code>ORIENTATION_LAI</code> - Left-Anterior-Inferior</p></li><li><p><code>ORIENTATION_RPS</code> - Right-Posterior-Superior</p></li><li><p><code>ORIENTATION_LPS</code> - Left-Posterior-Superior</p></li><li><p><code>ORIENTATION_RAS</code> - Right-Anterior-Superior</p></li><li><p><code>ORIENTATION_LAS</code> - Left-Anterior-Superior</p></li></ul><hr><h2 id="Resampling-Functions" tabindex="-1">Resampling Functions <a class="header-anchor" href="#Resampling-Functions" aria-label="Permalink to &quot;Resampling Functions {#Resampling-Functions}&quot;">​</a></h2><h3 id="resampletoimage" tabindex="-1">resample_to_image <a class="header-anchor" href="#resampletoimage" aria-label="Permalink to &quot;resample_to_image {#resampletoimage}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resample_to_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(im_fixed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, im_moving</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                  interpolator_enum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Interpolator_enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                  value_to_extrapolate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nothing)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span></span></code></pre></div><p>Resample a moving image to match a fixed image&#39;s geometry.</p><p><strong>Arguments:</strong></p><ul><li><p><code>im_fixed::MedImage</code>: Reference image defining target geometry</p></li><li><p><code>im_moving::MedImage</code>: Image to be resampled</p></li><li><p><code>interpolator_enum::Interpolator_enum</code>: Interpolation method</p></li><li><p><code>value_to_extrapolate</code>: Value for regions outside moving image (default: median of fixed image corners)</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Moving image resampled to fixed image space</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Register PET to CT space</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pet_in_ct_space </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> resample_to_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ct_image, pet_image, Linear_en)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># With custom extrapolation value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">registered </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> resample_to_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fixed, moving, Linear_en, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>Notes:</strong></p><ul><li><p>Automatically changes moving image orientation to match fixed</p></li><li><p>Output has same dimensions, spacing, origin, and direction as fixed image</p></li></ul><hr><h2 id="HDF5-Storage" tabindex="-1">HDF5 Storage <a class="header-anchor" href="#HDF5-Storage" aria-label="Permalink to &quot;HDF5 Storage {#HDF5-Storage}&quot;">​</a></h2><h3 id="savemedimage" tabindex="-1">save_med_image <a class="header-anchor" href="#savemedimage" aria-label="Permalink to &quot;save_med_image {#savemedimage}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">save_med_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HDF5.File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, group_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Save a MedImage to an HDF5 file.</p><p><strong>Arguments:</strong></p><ul><li><p><code>f::HDF5.File</code>: Open HDF5 file handle</p></li><li><p><code>group_name::String</code>: Group name within the file</p></li><li><p><code>image::MedImage</code>: Image to save</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>String</code>: Unique dataset name (UUID) used for storage</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HDF5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">h5open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;images.h5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;w&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> save_med_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ct_scans&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ct_image)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Saved as: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$dataset_name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><hr><h3 id="loadmedimage" tabindex="-1">load_med_image <a class="header-anchor" href="#loadmedimage" aria-label="Permalink to &quot;load_med_image {#loadmedimage}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load_med_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HDF5.File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, group_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dataset_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Load a MedImage from an HDF5 file.</p><p><strong>Arguments:</strong></p><ul><li><p><code>f::HDF5.File</code>: Open HDF5 file handle</p></li><li><p><code>group_name::String</code>: Group name within the file</p></li><li><p><code>dataset_name::String</code>: Dataset name (UUID from save_med_image)</p></li></ul><p><strong>Returns:</strong></p><ul><li><code>MedImage</code>: Loaded image with all metadata</li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HDF5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">h5open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;images.h5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;r&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> load_med_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ct_scans&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><hr><h2 id="Enumerations" tabindex="-1">Enumerations <a class="header-anchor" href="#Enumerations" aria-label="Permalink to &quot;Enumerations {#Enumerations}&quot;">​</a></h2><h3 id="Image_type" tabindex="-1">Image_type <a class="header-anchor" href="#Image_type" aria-label="Permalink to &quot;Image_type {#Image_type}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Image_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MRI_type    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Magnetic Resonance Imaging</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PET_type    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Positron Emission Tomography</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CT_type     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Computed Tomography</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="Image_subtype" tabindex="-1">Image_subtype <a class="header-anchor" href="#Image_subtype" aria-label="Permalink to &quot;Image_subtype {#Image_subtype}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Image_subtype </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CT_subtype      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Standard CT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ADC_subtype     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Apparent Diffusion Coefficient (MRI)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DWI_subtype     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Diffusion Weighted Imaging (MRI)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    T1_subtype      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># T1-weighted MRI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    T2_subtype      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># T2-weighted MRI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FLAIR_subtype   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fluid-attenuated inversion recovery (MRI)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FDG_subtype     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fluorodeoxyglucose PET</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PSMA_subtype    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Prostate-Specific Membrane Antigen PET</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="Interpolator_enum" tabindex="-1">Interpolator_enum <a class="header-anchor" href="#Interpolator_enum" aria-label="Permalink to &quot;Interpolator_enum {#Interpolator_enum}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Interpolator_enum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Nearest_neighbour_en   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Nearest neighbor - fast, preserves values</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Linear_en              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linear/trilinear - smooth, good balance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B_spline_en            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># B-spline - smoothest, computationally intensive</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Usage Guidance:</strong></p><ul><li><p><code>Nearest_neighbour_en</code>: Best for label maps, segmentation masks</p></li><li><p><code>Linear_en</code>: Best for general image processing</p></li><li><p><code>B_spline_en</code>: Best when smoothness is critical</p></li></ul><h3 id="currentdeviceenum" tabindex="-1">current_device_enum <a class="header-anchor" href="#currentdeviceenum" aria-label="Permalink to &quot;current_device_enum {#currentdeviceenum}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current_device_enum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CPU_current_device       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Standard CPU processing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CUDA_current_device      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># NVIDIA CUDA GPU</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    AMD_current_device       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AMD GPU (ROCm)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ONEAPI_current_device    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Intel oneAPI</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="Mode_mi" tabindex="-1">Mode_mi <a class="header-anchor" href="#Mode_mi" aria-label="Permalink to &quot;Mode_mi {#Mode_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Mode_mi </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pixel_array_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Modify pixel array only</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    spat_metadata_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Modify spatial metadata only</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    all_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # Modify both</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="Orientation_code" tabindex="-1">Orientation_code <a class="header-anchor" href="#Orientation_code" aria-label="Permalink to &quot;Orientation_code {#Orientation_code}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Orientation_code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RPI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Posterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LPI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Posterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RAI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Anterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LAI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Anterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RPS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Posterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LPS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Posterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RAS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Anterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LAS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Anterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Orientation Conventions:</strong></p><ul><li><p>First letter: Left (L) or Right (R) - patient&#39;s left/right</p></li><li><p>Second letter: Anterior (A) or Posterior (P) - front/back</p></li><li><p>Third letter: Superior (S) or Inferior (I) - head/feet</p></li></ul><hr><h2 id="Orientation-Utilities" tabindex="-1">Orientation Utilities <a class="header-anchor" href="#Orientation-Utilities" aria-label="Permalink to &quot;Orientation Utilities {#Orientation-Utilities}&quot;">​</a></h2><h3 id="Orientation-Dictionaries" tabindex="-1">Orientation Dictionaries <a class="header-anchor" href="#Orientation-Dictionaries" aria-label="Permalink to &quot;Orientation Dictionaries {#Orientation-Dictionaries}&quot;">​</a></h3><p>The <code>Orientation_dicts</code> module provides mappings between orientation representations:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Convert enum to string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">orientation_enum_to_string[ORIENTATION_LPS]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns &quot;LPS&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Convert string to enum</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string_to_orientation_enum[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RAS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns ORIENTATION_RAS</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get direction cosines for an orientation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">orientation_dict_enum_to_number[ORIENTATION_LPS]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get orientation from direction cosines</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">number_to_enum_orientation_dict[direction_tuple]</span></span></code></pre></div><hr><h2 id="Coordinate-System-Notes" tabindex="-1">Coordinate System Notes <a class="header-anchor" href="#Coordinate-System-Notes" aria-label="Permalink to &quot;Coordinate System Notes {#Coordinate-System-Notes}&quot;">​</a></h2><h3 id="Index-vs-Physical-Coordinates" tabindex="-1">Index vs Physical Coordinates <a class="header-anchor" href="#Index-vs-Physical-Coordinates" aria-label="Permalink to &quot;Index vs Physical Coordinates {#Index-vs-Physical-Coordinates}&quot;">​</a></h3><p>MedImages.jl maintains compatibility with both Julia&#39;s array conventions and medical imaging standards:</p><table tabindex="0"><thead><tr><th style="text-align:right;">Aspect</th><th style="text-align:right;">Julia Arrays</th><th style="text-align:right;">Physical Space</th></tr></thead><tbody><tr><td style="text-align:right;">Dimension Order</td><td style="text-align:right;">(dim1, dim2, dim3)</td><td style="text-align:right;">(x, y, z)</td></tr><tr><td style="text-align:right;">First Dimension</td><td style="text-align:right;">Fastest varying</td><td style="text-align:right;">X-axis</td></tr><tr><td style="text-align:right;">Indexing</td><td style="text-align:right;">1-based</td><td style="text-align:right;">0-based (SimpleITK)</td></tr></tbody></table><h3 id="Coordinate-Transformation" tabindex="-1">Coordinate Transformation <a class="header-anchor" href="#Coordinate-Transformation" aria-label="Permalink to &quot;Coordinate Transformation {#Coordinate-Transformation}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Transform voxel index to physical point</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">physical_point </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transformIndexToPhysicalPoint_Julia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, (i, j, k))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get image center in voxel coordinates</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_center </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> get_voxel_center_Julia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_data)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get image center in physical coordinates</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">physical_center </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> get_real_center_Julia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image)</span></span></code></pre></div><hr><h2 id="See-Also" tabindex="-1">See Also <a class="header-anchor" href="#See-Also" aria-label="Permalink to &quot;See Also {#See-Also}&quot;">​</a></h2><ul><li><p><a href="./manual/get_started">Getting Started</a> - Installation and basic usage</p></li><li><p><a href="./manual/tutorials">Tutorials</a> - Step-by-step examples</p></li><li><p><a href="./reference/data_structures">Data Structures</a> - Detailed type documentation</p></li></ul></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/JuliaHealth/MedImages.jl/edit/main/docs/src/api.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/MedImages.jl/dev/manual/coordinate_systems" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Coordinate Systems</span><!--]--></a></div><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link next" href="/MedImages.jl/dev/reference/data_structures" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Next page</span><span class="title" data-v-4f9813fa>Data Structures</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>Made with <a href="https://luxdl.github.io/DocumenterVitepress.jl/dev/" target="_blank"><strong>DocumenterVitepress.jl</strong></a><br></p><p class="copyright" data-v-c970a860>© Copyright 2026.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"CIVNilo7\",\"devs_image_registration.md\":\"_GjQ31GM\",\"index.md\":\"BqFAikpk\",\"manual_code_example.md\":\"CIfhCa-v\",\"manual_coordinate_systems.md\":\"3bwYuwX0\",\"manual_get_started.md\":\"71kzWDZs\",\"manual_tutorials.md\":\"D-T_XXFO\",\"reference_data_structures.md\":\"CMn4UpLc\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"MedImages.jl\",\"description\":\"Documentation for MedImages.jl\",\"base\":\"/MedImages.jl/dev/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"logo\":{\"src\":\"/logo.png\",\"width\":24,\"height\":24},\"search\":{\"provider\":\"local\",\"options\":{\"detailedView\":true}},\"nav\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Manual\",\"collapsed\":false,\"items\":[{\"text\":\"Getting Started\",\"link\":\"/manual/get_started\"},{\"text\":\"Tutorials\",\"link\":\"/manual/tutorials\"},{\"text\":\"Code Examples\",\"link\":\"/manual/code_example\"},{\"text\":\"Coordinate Systems\",\"link\":\"/manual/coordinate_systems\"}]},{\"text\":\"Reference\",\"collapsed\":false,\"items\":[{\"text\":\"API Reference\",\"link\":\"/api\"},{\"text\":\"Data Structures\",\"link\":\"/reference/data_structures\"}]},{\"text\":\"Developers\",\"collapsed\":false,\"items\":[{\"text\":\"Image Registration\",\"link\":\"/devs/image_registration\"}]},{\"component\":\"VersionPicker\"}],\"sidebar\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Manual\",\"collapsed\":false,\"items\":[{\"text\":\"Getting Started\",\"link\":\"/manual/get_started\"},{\"text\":\"Tutorials\",\"link\":\"/manual/tutorials\"},{\"text\":\"Code Examples\",\"link\":\"/manual/code_example\"},{\"text\":\"Coordinate Systems\",\"link\":\"/manual/coordinate_systems\"}]},{\"text\":\"Reference\",\"collapsed\":false,\"items\":[{\"text\":\"API Reference\",\"link\":\"/api\"},{\"text\":\"Data Structures\",\"link\":\"/reference/data_structures\"}]},{\"text\":\"Developers\",\"collapsed\":false,\"items\":[{\"text\":\"Image Registration\",\"link\":\"/devs/image_registration\"}]}],\"editLink\":{\"pattern\":\"https://github.com/JuliaHealth/MedImages.jl/edit/main/docs/src/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/JuliaHealth/MedImages.jl\"}],\"footer\":{\"message\":\"Made with <a href=\\\"https://luxdl.github.io/DocumenterVitepress.jl/dev/\\\" target=\\\"_blank\\\"><strong>DocumenterVitepress.jl</strong></a><br>\",\"copyright\":\"© Copyright 2026.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>