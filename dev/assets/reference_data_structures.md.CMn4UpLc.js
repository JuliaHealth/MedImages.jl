import{_ as i,c as a,o as n,aA as t}from"./chunks/framework.C4tE2Wd2.js";const g=JSON.parse('{"title":"Data Structures Reference","description":"","frontmatter":{},"headers":[],"relativePath":"reference/data_structures.md","filePath":"reference/data_structures.md","lastUpdated":null}'),e={name:"reference/data_structures.md"};function l(h,s,p,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="Data-Structures-Reference" tabindex="-1">Data Structures Reference <a class="header-anchor" href="#Data-Structures-Reference" aria-label="Permalink to &quot;Data Structures Reference {#Data-Structures-Reference}&quot;">​</a></h1><p>This page provides detailed documentation for all data structures and types in MedImages.jl.</p><h2 id="Primary-Data-Structure" tabindex="-1">Primary Data Structure <a class="header-anchor" href="#Primary-Data-Structure" aria-label="Permalink to &quot;Primary Data Structure {#Primary-Data-Structure}&quot;">​</a></h2><h3 id="MedImage" tabindex="-1">MedImage <a class="header-anchor" href="#MedImage" aria-label="Permalink to &quot;MedImage {#MedImage}&quot;">​</a></h3><p>The <code>MedImage</code> struct is the central data structure in MedImages.jl. It encapsulates both voxel data and comprehensive metadata for medical images.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@with_kw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mutable struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    voxel_data                                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Multidimensional array</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    origin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64,Float64,Float64}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # Physical origin (x,y,z)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    spacing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64,Float64,Float64}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Voxel spacing (x,y,z)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    direction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NTuple{9,Float64}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # Direction cosines (3x3 flattened)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Image_type</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                       # Modality type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_subtype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Image_subtype</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # Specific protocol</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    date_of_saving</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dates</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">today</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Save timestamp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    acquistion_time</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dates</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Acquisition timestamp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    patient_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                           # Patient identifier</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    current_device</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">current_device_enum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CPU_current_device</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    study_uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UUIDs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uuid4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># DICOM study UID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    patient_uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UUIDs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uuid4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Patient UID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    series_uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UUIDs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uuid4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Series UID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    study_description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; &quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              # Study description</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    legacy_file_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; &quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">               # Original filename</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    display_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Any,Any}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Visualization parameters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clinical_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Any,Any}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Clinical metadata</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    is_contrast_administered</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # Contrast agent flag</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    metadata</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Any,Any}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Additional metadata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><hr><h2 id="Field-Documentation" tabindex="-1">Field Documentation <a class="header-anchor" href="#Field-Documentation" aria-label="Permalink to &quot;Field Documentation {#Field-Documentation}&quot;">​</a></h2><h3 id="Voxel-Data-Fields" tabindex="-1">Voxel Data Fields <a class="header-anchor" href="#Voxel-Data-Fields" aria-label="Permalink to &quot;Voxel Data Fields {#Voxel-Data-Fields}&quot;">​</a></h3><h4 id="voxel_data" tabindex="-1"><code>voxel_data</code> <a class="header-anchor" href="#voxel_data" aria-label="Permalink to &quot;\`voxel_data\` {#voxel_data}&quot;">​</a></h4><p><strong>Type:</strong> <code>Array{T,N}</code> where T is typically <code>Float32</code>, <code>Float64</code>, or <code>Int16</code></p><p>The multidimensional array containing the image intensity values.</p><p><strong>Dimension Ordering:</strong></p><ul><li><p>For 3D images: <code>(dim1, dim2, dim3)</code> corresponds to <code>(Z, Y, X)</code> in physical space</p></li><li><p>For 4D images: <code>(dim1, dim2, dim3, dim4)</code> where dim4 is typically time or diffusion direction</p></li></ul><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Access the voxel array</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_data</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get dimensions</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data))  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># e.g., (512, 512, 256)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Access specific voxel (z=100, y=200, x=150)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><hr><h3 id="Spatial-Metadata-Fields" tabindex="-1">Spatial Metadata Fields <a class="header-anchor" href="#Spatial-Metadata-Fields" aria-label="Permalink to &quot;Spatial Metadata Fields {#Spatial-Metadata-Fields}&quot;">​</a></h3><h4 id="origin" tabindex="-1"><code>origin</code> <a class="header-anchor" href="#origin" aria-label="Permalink to &quot;\`origin\` {#origin}&quot;">​</a></h4><p><strong>Type:</strong> <code>Tuple{Float64, Float64, Float64}</code></p><p>The physical coordinates (x, y, z) of the first voxel (index [1,1,1]) in millimeters.</p><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">origin)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># e.g., (-125.0, -180.0, -50.0)</span></span></code></pre></div><h4 id="spacing" tabindex="-1"><code>spacing</code> <a class="header-anchor" href="#spacing" aria-label="Permalink to &quot;\`spacing\` {#spacing}&quot;">​</a></h4><p><strong>Type:</strong> <code>Tuple{Float64, Float64, Float64}</code></p><p>The distance between adjacent voxel centers along each axis (x, y, z) in millimeters.</p><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spacing)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># e.g., (0.5, 0.5, 1.0)</span></span></code></pre></div><h4 id="direction" tabindex="-1"><code>direction</code> <a class="header-anchor" href="#direction" aria-label="Permalink to &quot;\`direction\` {#direction}&quot;">​</a></h4><p><strong>Type:</strong> <code>NTuple{9, Float64}</code></p><p>The direction cosine matrix flattened in row-major order. This 3x3 matrix defines how the image axes relate to the physical coordinate system.</p><p><strong>Structure:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[d1, d2, d3, d4, d5, d6, d7, d8, d9]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Represents:</span></span>
<span class="line"><span>| d1 d2 d3 |   | xx xy xz |</span></span>
<span class="line"><span>| d4 d5 d6 | = | yx yy yz |</span></span>
<span class="line"><span>| d7 d8 d9 |   | zx zy zz |</span></span></code></pre></div><p><strong>Common Values:</strong></p><ul><li><p>Identity (LPS): <code>(1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0)</code></p></li><li><p>RAS: <code>(-1.0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, 0.0, 1.0)</code></p></li></ul><hr><h3 id="Image-Classification-Fields" tabindex="-1">Image Classification Fields <a class="header-anchor" href="#Image-Classification-Fields" aria-label="Permalink to &quot;Image Classification Fields {#Image-Classification-Fields}&quot;">​</a></h3><h4 id="image_type" tabindex="-1"><code>image_type</code> <a class="header-anchor" href="#image_type" aria-label="Permalink to &quot;\`image_type\` {#image_type}&quot;">​</a></h4><p><strong>Type:</strong> <code>Image_type</code> (enum)</p><p>The imaging modality. See <a href="/MedImages.jl/dev/reference/data_structures#image_type">Image_type Enum</a> for values.</p><h4 id="image_subtype" tabindex="-1"><code>image_subtype</code> <a class="header-anchor" href="#image_subtype" aria-label="Permalink to &quot;\`image_subtype\` {#image_subtype}&quot;">​</a></h4><p><strong>Type:</strong> <code>Image_subtype</code> (enum)</p><p>The specific imaging protocol or sequence. See <a href="/MedImages.jl/dev/reference/data_structures#image_subtype">Image_subtype Enum</a> for values.</p><hr><h3 id="Temporal-Metadata-Fields" tabindex="-1">Temporal Metadata Fields <a class="header-anchor" href="#Temporal-Metadata-Fields" aria-label="Permalink to &quot;Temporal Metadata Fields {#Temporal-Metadata-Fields}&quot;">​</a></h3><h4 id="date_of_saving" tabindex="-1"><code>date_of_saving</code> <a class="header-anchor" href="#date_of_saving" aria-label="Permalink to &quot;\`date_of_saving\` {#date_of_saving}&quot;">​</a></h4><p><strong>Type:</strong> <code>DateTime</code></p><p>The date and time when the image was saved to disk.</p><p><strong>Default:</strong> <code>Dates.today()</code></p><h4 id="acquistion_time" tabindex="-1"><code>acquistion_time</code> <a class="header-anchor" href="#acquistion_time" aria-label="Permalink to &quot;\`acquistion_time\` {#acquistion_time}&quot;">​</a></h4><p><strong>Type:</strong> <code>DateTime</code></p><p>The date and time when the image was originally acquired.</p><p><strong>Default:</strong> <code>Dates.now()</code></p><hr><h3 id="Patient-Identification-Fields" tabindex="-1">Patient Identification Fields <a class="header-anchor" href="#Patient-Identification-Fields" aria-label="Permalink to &quot;Patient Identification Fields {#Patient-Identification-Fields}&quot;">​</a></h3><h4 id="patient_id" tabindex="-1"><code>patient_id</code> <a class="header-anchor" href="#patient_id" aria-label="Permalink to &quot;\`patient_id\` {#patient_id}&quot;">​</a></h4><p><strong>Type:</strong> <code>String</code></p><p>The patient identifier from the source data or assigned during loading.</p><h4 id="patient_uid" tabindex="-1"><code>patient_uid</code> <a class="header-anchor" href="#patient_uid" aria-label="Permalink to &quot;\`patient_uid\` {#patient_uid}&quot;">​</a></h4><p><strong>Type:</strong> <code>String</code></p><p>A unique identifier for the patient. Automatically generated as UUID if not provided.</p><p><strong>Default:</strong> <code>string(UUIDs.uuid4())</code></p><hr><h3 id="Study-Identification-Fields" tabindex="-1">Study Identification Fields <a class="header-anchor" href="#Study-Identification-Fields" aria-label="Permalink to &quot;Study Identification Fields {#Study-Identification-Fields}&quot;">​</a></h3><h4 id="study_uid" tabindex="-1"><code>study_uid</code> <a class="header-anchor" href="#study_uid" aria-label="Permalink to &quot;\`study_uid\` {#study_uid}&quot;">​</a></h4><p><strong>Type:</strong> <code>String</code></p><p>The DICOM Study Instance UID or a generated unique identifier.</p><p><strong>Default:</strong> <code>string(UUIDs.uuid4())</code></p><h4 id="series_uid" tabindex="-1"><code>series_uid</code> <a class="header-anchor" href="#series_uid" aria-label="Permalink to &quot;\`series_uid\` {#series_uid}&quot;">​</a></h4><p><strong>Type:</strong> <code>String</code></p><p>The DICOM Series Instance UID or a generated unique identifier.</p><p><strong>Default:</strong> <code>string(UUIDs.uuid4())</code></p><h4 id="study_description" tabindex="-1"><code>study_description</code> <a class="header-anchor" href="#study_description" aria-label="Permalink to &quot;\`study_description\` {#study_description}&quot;">​</a></h4><p><strong>Type:</strong> <code>String</code></p><p>A description of the imaging study.</p><p><strong>Default:</strong> <code>&quot; &quot;</code></p><hr><h3 id="Processing-Fields" tabindex="-1">Processing Fields <a class="header-anchor" href="#Processing-Fields" aria-label="Permalink to &quot;Processing Fields {#Processing-Fields}&quot;">​</a></h3><h4 id="current_device" tabindex="-1"><code>current_device</code> <a class="header-anchor" href="#current_device" aria-label="Permalink to &quot;\`current_device\` {#current_device}&quot;">​</a></h4><p><strong>Type:</strong> <code>current_device_enum</code></p><p>The compute device used for processing this image.</p><p><strong>Default:</strong> <code>CPU_current_device</code></p><hr><h3 id="Source-File-Fields" tabindex="-1">Source File Fields <a class="header-anchor" href="#Source-File-Fields" aria-label="Permalink to &quot;Source File Fields {#Source-File-Fields}&quot;">​</a></h3><h4 id="legacy_file_name" tabindex="-1"><code>legacy_file_name</code> <a class="header-anchor" href="#legacy_file_name" aria-label="Permalink to &quot;\`legacy_file_name\` {#legacy_file_name}&quot;">​</a></h4><p><strong>Type:</strong> <code>String</code></p><p>The original filename from which the image was loaded.</p><p><strong>Default:</strong> <code>&quot; &quot;</code></p><hr><h3 id="Extensible-Metadata-Fields" tabindex="-1">Extensible Metadata Fields <a class="header-anchor" href="#Extensible-Metadata-Fields" aria-label="Permalink to &quot;Extensible Metadata Fields {#Extensible-Metadata-Fields}&quot;">​</a></h3><h4 id="display_data" tabindex="-1"><code>display_data</code> <a class="header-anchor" href="#display_data" aria-label="Permalink to &quot;\`display_data\` {#display_data}&quot;">​</a></h4><p><strong>Type:</strong> <code>Dict{Any, Any}</code></p><p>A dictionary for storing visualization-related parameters such as color maps, window/level settings, etc.</p><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">display_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;window_center&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 40</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">display_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;window_width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 400</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">display_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;colormap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;gray&quot;</span></span></code></pre></div><h4 id="clinical_data" tabindex="-1"><code>clinical_data</code> <a class="header-anchor" href="#clinical_data" aria-label="Permalink to &quot;\`clinical_data\` {#clinical_data}&quot;">​</a></h4><p><strong>Type:</strong> <code>Dict{Any, Any}</code></p><p>A dictionary for storing patient clinical information.</p><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clinical_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clinical_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;M&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clinical_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;weight_kg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 75.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clinical_data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;diagnosis&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Normal&quot;</span></span></code></pre></div><h4 id="metadata" tabindex="-1"><code>metadata</code> <a class="header-anchor" href="#metadata" aria-label="Permalink to &quot;\`metadata\` {#metadata}&quot;">​</a></h4><p><strong>Type:</strong> <code>Dict{Any, Any}</code></p><p>A dictionary for storing any additional metadata not covered by other fields.</p><p><strong>Example:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;source_format&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;DICOM&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reconstruction_kernel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;B30f&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;slice_thickness&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span></span></code></pre></div><h4 id="is_contrast_administered" tabindex="-1"><code>is_contrast_administered</code> <a class="header-anchor" href="#is_contrast_administered" aria-label="Permalink to &quot;\`is_contrast_administered\` {#is_contrast_administered}&quot;">​</a></h4><p><strong>Type:</strong> <code>Bool</code></p><p>Flag indicating whether a contrast agent was administered during imaging.</p><p><strong>Default:</strong> <code>false</code></p><hr><h2 id="Enumerations" tabindex="-1">Enumerations <a class="header-anchor" href="#Enumerations" aria-label="Permalink to &quot;Enumerations {#Enumerations}&quot;">​</a></h2><h3 id="Image_type" tabindex="-1">Image_type <a class="header-anchor" href="#Image_type" aria-label="Permalink to &quot;Image_type {#Image_type}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Image_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MRI_type    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Magnetic Resonance Imaging</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PET_type    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Positron Emission Tomography</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CT_type     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Computed Tomography</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Usage:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CT_type</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CT_type</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Processing CT scan&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><hr><h3 id="Image_subtype" tabindex="-1">Image_subtype <a class="header-anchor" href="#Image_subtype" aria-label="Permalink to &quot;Image_subtype {#Image_subtype}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Image_subtype </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CT_subtype      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Standard CT scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ADC_subtype     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Apparent Diffusion Coefficient (MRI)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DWI_subtype     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Diffusion Weighted Imaging (MRI)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    T1_subtype      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># T1-weighted MRI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    T2_subtype      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># T2-weighted MRI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FLAIR_subtype   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fluid-attenuated inversion recovery (MRI)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FDG_subtype     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fluorodeoxyglucose PET</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PSMA_subtype    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Prostate-Specific Membrane Antigen PET</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Typical Associations:</strong> | Image Type | Common Subtypes | |––––––|––––––––-| | <code>CT_type</code> | <code>CT_subtype</code> | | <code>MRI_type</code> | <code>T1_subtype</code>, <code>T2_subtype</code>, <code>FLAIR_subtype</code>, <code>ADC_subtype</code>, <code>DWI_subtype</code> | | <code>PET_type</code> | <code>FDG_subtype</code>, <code>PSMA_subtype</code> |</p><hr><h3 id="Interpolator_enum" tabindex="-1">Interpolator_enum <a class="header-anchor" href="#Interpolator_enum" aria-label="Permalink to &quot;Interpolator_enum {#Interpolator_enum}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Interpolator_enum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Nearest_neighbour_en   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Nearest neighbor interpolation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Linear_en              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linear/trilinear interpolation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B_spline_en            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># B-spline interpolation</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Selection Guide:</strong></p><table tabindex="0"><thead><tr><th style="text-align:right;">Interpolator</th><th style="text-align:right;">Speed</th><th style="text-align:right;">Quality</th><th style="text-align:right;">Best For</th></tr></thead><tbody><tr><td style="text-align:right;"><code>Nearest_neighbour_en</code></td><td style="text-align:right;">Fastest</td><td style="text-align:right;">Preserves discrete values</td><td style="text-align:right;">Segmentation masks, label maps</td></tr><tr><td style="text-align:right;"><code>Linear_en</code></td><td style="text-align:right;">Fast</td><td style="text-align:right;">Good, may blur edges</td><td style="text-align:right;">General intensity images</td></tr><tr><td style="text-align:right;"><code>B_spline_en</code></td><td style="text-align:right;">Slowest</td><td style="text-align:right;">Smoothest</td><td style="text-align:right;">High-quality resampling</td></tr></tbody></table><hr><h3 id="currentdeviceenum" tabindex="-1">current_device_enum <a class="header-anchor" href="#currentdeviceenum" aria-label="Permalink to &quot;current_device_enum {#currentdeviceenum}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current_device_enum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CPU_current_device       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Standard CPU processing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CUDA_current_device      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># NVIDIA CUDA GPU</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    AMD_current_device       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AMD GPU (ROCm)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ONEAPI_current_device    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Intel oneAPI device</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Note:</strong> GPU support requires appropriate packages (CUDA.jl, AMDGPU.jl, oneAPI.jl) to be installed and configured.</p><hr><h3 id="Mode_mi" tabindex="-1">Mode_mi <a class="header-anchor" href="#Mode_mi" aria-label="Permalink to &quot;Mode_mi {#Mode_mi}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Mode_mi </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pixel_array_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Modify pixel array only</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    spat_metadata_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Modify spatial metadata only</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    all_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # Modify both</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>This enum is used internally to control which aspects of an image are modified during transformations.</p><hr><h3 id="Orientation_code" tabindex="-1">Orientation_code <a class="header-anchor" href="#Orientation_code" aria-label="Permalink to &quot;Orientation_code {#Orientation_code}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Orientation_code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RPI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Posterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LPI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Posterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RAI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Anterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LAI    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Anterior-Inferior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RPS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Posterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LPS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Posterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_RAS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Right-Anterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ORIENTATION_LAS    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Left-Anterior-Superior</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p><strong>Letter Meanings:</strong></p><ul><li><p><strong>First letter:</strong> L (Left) or R (Right) - direction of increasing X</p></li><li><p><strong>Second letter:</strong> A (Anterior) or P (Posterior) - direction of increasing Y</p></li><li><p><strong>Third letter:</strong> S (Superior) or I (Inferior) - direction of increasing Z</p></li></ul><p><strong>Common Conventions:</strong></p><ul><li><p><strong>LPS:</strong> DICOM standard, used by ITK, SimpleITK</p></li><li><p><strong>RAS:</strong> Neuroimaging standard, used by FreeSurfer, FSL</p></li></ul><hr><h3 id="CoordinateTerms" tabindex="-1">CoordinateTerms <a class="header-anchor" href="#CoordinateTerms" aria-label="Permalink to &quot;CoordinateTerms {#CoordinateTerms}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CoordinateTerms </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_UNKNOWN </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_Right </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_Left </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_Posterior </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_Anterior </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_Inferior </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ITK_COORDINATE_Superior </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Used internally for ITK compatibility.</p><hr><h3 id="CoordinateMajornessTerms" tabindex="-1">CoordinateMajornessTerms <a class="header-anchor" href="#CoordinateMajornessTerms" aria-label="Permalink to &quot;CoordinateMajornessTerms {#CoordinateMajornessTerms}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CoordinateMajornessTerms </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PrimaryMinor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Primary minor coordinate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SecondaryMinor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Secondary minor coordinate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    TertiaryMinor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Tertiary minor coordinate</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Used internally for coordinate system transformations.</p><hr><h2 id="Constructor-and-Factory-Functions" tabindex="-1">Constructor and Factory Functions <a class="header-anchor" href="#Constructor-and-Factory-Functions" aria-label="Permalink to &quot;Constructor and Factory Functions {#Constructor-and-Factory-Functions}&quot;">​</a></h2><h3 id="Default-Constructor" tabindex="-1">Default Constructor <a class="header-anchor" href="#Default-Constructor" aria-label="Permalink to &quot;Default Constructor {#Default-Constructor}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Using keyword arguments (recommended)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    voxel_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> zeros</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Float64, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    origin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    spacing </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    direction </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CT_type,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_subtype </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CT_subtype,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    patient_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;PATIENT001&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="Using-load_image" tabindex="-1">Using load_image <a class="header-anchor" href="#Using-load_image" aria-label="Permalink to &quot;Using load_image {#Using-load_image}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Load from file (recommended approach)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> load_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/image.nii.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="Using-update-Functions" tabindex="-1">Using update Functions <a class="header-anchor" href="#Using-update-Functions" aria-label="Permalink to &quot;Using update Functions {#Using-update-Functions}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Create modified copy with new voxel data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">new_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> update_voxel_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(original_image, new_data)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Create modified copy with new voxel and spatial data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">new_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> update_voxel_and_spatial_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    original_image,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    new_data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    new_origin,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    new_spacing,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    new_direction</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h2 id="Memory-Layout" tabindex="-1">Memory Layout <a class="header-anchor" href="#Memory-Layout" aria-label="Permalink to &quot;Memory Layout {#Memory-Layout}&quot;">​</a></h2><p>The <code>MedImage</code> struct uses Julia&#39;s default memory layout:</p><ul><li><p><strong>Voxel data:</strong> Stored as a contiguous Julia array (column-major order)</p></li><li><p><strong>Tuples:</strong> Stored inline in the struct</p></li><li><p><strong>Strings:</strong> Stored as references to heap-allocated strings</p></li><li><p><strong>Dicts:</strong> Stored as references to heap-allocated dictionaries</p></li></ul><p><strong>Memory Considerations:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Approximate memory usage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_memory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sizeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eltype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_data)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> prod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_data))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">overhead </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # origin, spacing (tuples)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # direction (tuple)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # DateTime fields</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # String references</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Dict references</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Enum fields</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">total_approximate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> voxel_memory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> overhead</span></span></code></pre></div><hr><h2 id="Serialization" tabindex="-1">Serialization <a class="header-anchor" href="#Serialization" aria-label="Permalink to &quot;Serialization {#Serialization}&quot;">​</a></h2><h3 id="To-HDF5" tabindex="-1">To HDF5 <a class="header-anchor" href="#To-HDF5" aria-label="Permalink to &quot;To HDF5 {#To-HDF5}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HDF5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">h5open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;output.h5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;w&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    uuid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> save_med_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, image)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="To-NIfTI" tabindex="-1">To NIfTI <a class="header-anchor" href="#To-NIfTI" aria-label="Permalink to &quot;To NIfTI {#To-NIfTI}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_nii_from_medimage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/output&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="To-JSON-metadata-only" tabindex="-1">To JSON (metadata only) <a class="header-anchor" href="#To-JSON-metadata-only" aria-label="Permalink to &quot;To JSON (metadata only) {#To-JSON-metadata-only}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JSON</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;origin&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">origin,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;spacing&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spacing,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;direction&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">direction,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;image_type&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_type),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;dimensions&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voxel_data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">json_string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JSON</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metadata)</span></span></code></pre></div>`,169)])])}const E=i(e,[["render",l]]);export{g as __pageData,E as default};
